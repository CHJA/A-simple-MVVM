<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<title>A Simple MVVM</title>
		<style type="text/css">
			.f-line{
				margin: 10px auto;
			}
			.f-line label{
				width: 100px;
				display: inline-block;
				text-align: right;
			}
		</style>
	</head>
	<body>
		<form id="app">
			<div class="f-line">
				<label>姓名：</label>
				<input type="text" v-model="name" />
			</div>
			<div class="f-line">
				<label>密码：</label>
				<input type="password" v-model="password" />
			</div>
			<div class="f-line">
				<label>手机号：</label>
				<input type="text" v-model="mobile" v-on:change="mobile"/>
			</div>
			<input type="button" value="提交" v-on:click="submit" />
			<div v-html="html"></div>
			{{{html}}}
			<input type="button" value="提交" v-on:click="changehtml" />
		</form>
		<script type="text/javascript" src="./build/js/mvvm.js"></script>
		<script type="text/javascript">
			const passwordRE = /^\w{6, 16}$/,
				nameRE = /^\w{8, 18}$/,
				mobileRE = /^1[3,5,7,8]\d{9}$/;
			var flag = false;
			new Mvvm({
				el: "#app",
				data: () => {
					return {
						name: "",
						password: "",
						mobile: "",
						html: "<h1>Hello World</h1>"
					};
				},
				methods: {
					submit: function() {
						console.log({
							name: this.name,
							password: this.password,
							mobile: this.mobile
						});
					},
					changehtml: function() {
						this.html = `<h1>${Math.random()}</h1>`;
					},
					mobile: function() {
						var flag = mobileRE.test(this.mobile);
						console.log(flag);
						return flag;
					}
				}
			});
		</script>
	</body>
</html>